{% extends "base-ancient.html" %}

{% block title %}æˆ‘çš„ä¹¦æ¶ - æ‚¦è¯»åŠ{% endblock %}

{% block content %}
<h1 class="page-title" style="text-align: left;">æˆ‘çš„ä¹¦æ¶</h1>

<!-- ç»Ÿè®¡ä¿¡æ¯ -->
<div class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));">
    <div class="stat-card">
        <div class="stat-label">ğŸ“š å·²è´­ä¹°å°è¯´</div>
        <div class="stat-value">{{ total_purchased }}</div>
    </div>
</div>

<!-- å¿«é€Ÿå…¥å£ -->
<div class="card">
    <div class="card-header">ğŸ“Œ å¿«é€Ÿå…¥å£</div>
    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
        <a href="{{ url_for('reader_novels') }}" class="btn btn-primary">ğŸ“š å°è¯´å¹¿åœº</a>
        <a href="{{ url_for('reader_recommendations') }}" class="btn btn-success">ğŸ¯ ä¸ºä½ æ¨è</a>
        <a href="{{ url_for('reader_orders') }}" class="btn btn-warning">ğŸ’° æˆ‘çš„è®¢å•</a>
    </div>
</div>

<!-- å·²è´­å°è¯´ -->
<h2 style="font-size: 1.5rem; font-weight: 600; color: #5a4a3a; margin: 2rem 0 1rem; padding-left: 1rem; border-left: 4px solid #c8553d;">
    å·²è´­å°è¯´
</h2>

{% if purchased_novels %}
<div class="novels-grid">
    {% for novel in purchased_novels %}
    <div class="novel-card" onclick="window.location.href='{{ url_for('reader_novel_detail', novel_id=novel._id) }}'">
        <div class="novel-cover" style="background: linear-gradient(135deg, 
            {% if loop.index0 % 6 == 0 %}#c8553d 0%, #a0442f 100%
            {% elif loop.index0 % 6 == 1 %}#8b7355 0%, #6d5c47 100%
            {% elif loop.index0 % 6 == 2 %}#5f9e6e 0%, #4a7c58 100%
            {% elif loop.index0 % 6 == 3 %}#d4a259 0%, #b8894a 100%
            {% elif loop.index0 % 6 == 4 %}#7a92a3 0%, #5d7386 100%
            {% else %}#9b6b6f 0%, #7d5659 100%{% endif %});">
            {{ novel.title[:2] }}
        </div>
        <div class="novel-info">
            <div class="novel-title">{{ novel.title }}</div>
            <div class="novel-meta">
                <span class="badge badge-primary">{{ novel.category }}</span>
                <span>ğŸ“– {{ novel.chapters|length }} ç« </span>
            </div>
            <div class="novel-intro">{{ novel.intro }}</div>
            <button class="btn btn-primary" style="width: 100%;">ç»§ç»­é˜…è¯»</button>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <div class="icon">ğŸ“š</div>
    <h3>ä¹¦æ¶ç©ºç©ºå¦‚ä¹Ÿ</h3>
    <p>å»å°è¯´å¹¿åœºçœ‹çœ‹ï¼Œè´­ä¹°å–œæ¬¢çš„å°è¯´å§</p>
    <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1.5rem;">
        <a href="{{ url_for('reader_novels') }}" class="btn btn-primary">æµè§ˆå°è¯´å¹¿åœº</a>
        <a href="{{ url_for('reader_recommendations') }}" class="btn btn-success">æŸ¥çœ‹æ¨è</a>
    </div>
</div>
{% endif %}
{% endblock %}
